<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SAKE: de.nec.nle.siafu.graphics.ContextMenuListener Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SAKE
   </div>
   <div id="projectbrief">A Simulation Framework to Analyze Knowledge Exchange Strategies in Distributed Self-adaptive Systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">de.nec.nle.siafu.graphics.ContextMenuListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for de.nec.nle.siafu.graphics.ContextMenuListener:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.png" usemap="#de.nec.nle.siafu.graphics.ContextMenuListener_map" alt=""/>
  <map id="de.nec.nle.siafu.graphics.ContextMenuListener_map" name="de.nec.nle.siafu.graphics.ContextMenuListener_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e461fdef26bdf386b04ae6c94de083a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html#a8e461fdef26bdf386b04ae6c94de083a">ContextMenuListener</a> (final <a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1control_1_1_controller.html">Controller</a> control, final Menu contextMenu, final Shell shell, final Canvas canvas)</td></tr>
<tr class="separator:a8e461fdef26bdf386b04ae6c94de083a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67f39516fc0af089243e3adb2011924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html#ae67f39516fc0af089243e3adb2011924">show</a> (final <a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1model_1_1_position.html">Position</a> clickedPosition)</td></tr>
<tr class="separator:ae67f39516fc0af089243e3adb2011924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9ad9c01a735d8109e4159b2d8fcaeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html#aff9ad9c01a735d8109e4159b2d8fcaeb">menuShown</a> (final MenuEvent e)</td></tr>
<tr class="separator:aff9ad9c01a735d8109e4159b2d8fcaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98167805ad48aa683094a532feb6ae2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html#a98167805ad48aa683094a532feb6ae2d">menuHidden</a> (final MenuEvent e)</td></tr>
<tr class="separator:a98167805ad48aa683094a532feb6ae2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This menu pops up upon right clicking on the canvas, and allows the user to operate with the entities near the clicked point. For example, one can move the selected agent to that point, or select one of the nearby agents.<br />
</p>
<p>Note that the implementation is a bit strange. Instead of adding the menu to the canvas, it is left stand alone, and the mouse events in the canvas trigger my own fucntion, show, which sets the visibility to true, causing the menuShown event to be triggered. This is so because the OS adds window decorations which are not accounted for when getting the shell and canvas location, making it impossible to locate where precisely int he canvas the user clicked.</p>
<dl class="section author"><dt>Author</dt><dd>Miquel Martin </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8e461fdef26bdf386b04ae6c94de083a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e461fdef26bdf386b04ae6c94de083a">&#9670;&nbsp;</a></span>ContextMenuListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">de.nec.nle.siafu.graphics.ContextMenuListener.ContextMenuListener </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1control_1_1_controller.html">Controller</a>&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Menu&#160;</td>
          <td class="paramname"><em>contextMenu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Shell&#160;</td>
          <td class="paramname"><em>shell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final Canvas&#160;</td>
          <td class="paramname"><em>canvas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the context menu listener.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Siafu's controller </td></tr>
    <tr><td class="paramname">contextMenu</td><td>the menu we listen for </td></tr>
    <tr><td class="paramname">shell</td><td>the container shell </td></tr>
    <tr><td class="paramname">canvas</td><td>the canvas where the simulation is being shown </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a98167805ad48aa683094a532feb6ae2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98167805ad48aa683094a532feb6ae2d">&#9670;&nbsp;</a></span>menuHidden()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void de.nec.nle.siafu.graphics.ContextMenuListener.menuHidden </td>
          <td>(</td>
          <td class="paramtype">final MenuEvent&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When the menu is hidden, un-pause the simulator if we paused it on opening the menu.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>the event that triggers the closure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff9ad9c01a735d8109e4159b2d8fcaeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9ad9c01a735d8109e4159b2d8fcaeb">&#9670;&nbsp;</a></span>menuShown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void de.nec.nle.siafu.graphics.ContextMenuListener.menuShown </td>
          <td>(</td>
          <td class="paramtype">final MenuEvent&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fill the menu contents when the user right clicks on the canvas. Essentially, we figure out what agents are near the cursor, and let the user select them, or move the already selected one to the cursor's position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>the trigger for the show </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae67f39516fc0af089243e3adb2011924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67f39516fc0af089243e3adb2011924">&#9670;&nbsp;</a></span>show()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void de.nec.nle.siafu.graphics.ContextMenuListener.show </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1model_1_1_position.html">Position</a>&#160;</td>
          <td class="paramname"><em>clickedPosition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make the menu visible. This could have been done in a more regular way if it weren't because we need the clicked position out of the canvas. The standard SWT mechanisms only return a position relative to the Display, and we simply can not account for the window manager border width, so the position wasn't accurate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clickedPosition</td><td>the position the user clicked on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Siafu-Sake-Simulator/Siafu/src/main/java/de/nec/nle/siafu/graphics/ContextMenuListener.java</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>de</b></li><li class="navelem"><b>nec</b></li><li class="navelem"><b>nle</b></li><li class="navelem"><b>siafu</b></li><li class="navelem"><a class="el" href="namespacede_1_1nec_1_1nle_1_1siafu_1_1graphics.html">graphics</a></li><li class="navelem"><a class="el" href="classde_1_1nec_1_1nle_1_1siafu_1_1graphics_1_1_context_menu_listener.html">ContextMenuListener</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
